!function(n){var t={strength:25,scale:1.05,animationSpeed:"100ms",contain:!0,wrapContent:!1};n.fn.interactive_bg=function(a){return this.each(function(){function i(n){var t=Math.round(10*event.accelerationIncludingGravity.x)/30,a=Math.round(10*event.accelerationIncludingGravity.y)/30,i=-(t/10)*e.strength,o=-(a/10)*e.strength,s=-(2*i),m=-(2*o);r.css({"-webkit-transform":"matrix("+1.1*e.scale+",0,0,"+1.1*e.scale+","+s+","+m+")","-moz-transform":"matrix("+1.1*e.scale+",0,0,"+1.1*e.scale+","+s+","+m+")","-o-transform":"matrix("+1.1*e.scale+",0,0,"+1.1*e.scale+","+s+","+m+")",transform:"matrix("+1.1*e.scale+",0,0,"+1.1*e.scale+","+s+","+m+")"})}var e=n.extend({},t,a),r=n(this),o=r.outerHeight(),s=r.outerWidth(),m=e.strength/o,c=e.strength/s,l="ontouchstart"in document.documentElement;1==e.contain&&r.css({overflow:"hidden"}),r.css({width:s,height:o}),l||screen.width<=699?window.addEventListener("devicemotion",i,!1):r.mouseenter(function(n){1!=e.scale&&r.addClass("ibg-entering"),r.css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)",transform:"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-entering")})}).mousemove(function(n){if(!r.hasClass("ibg-entering")&&!r.hasClass("exiting")){var t=n.pageX||n.clientX,a=n.pageY||n.clientY,t=t-r.offset().left-s/2,a=a-r.offset().top-o/2,i=c*t*-1,l=m*a*-1;r.css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+i+","+l+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+i+","+l+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+i+","+l+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+i+","+l+")","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})}}).mouseleave(function(n){1!=e.scale&&r.addClass("ibg-exiting"),r.addClass("ibg-exiting").css({"-webkit-transform":"matrix(1,0,0,1,0,0)","-moz-transform":"matrix(1,0,0,1,0,0)","-o-transform":"matrix(1,0,0,1,0,0)",transform:"matrix(1,0,0,1,0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-exiting")})})})}}(window.jQuery);
