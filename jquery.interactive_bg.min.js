!function(n){var t={strength:25,scale:1.05,animationSpeed:"100ms",contain:!0,wrapContent:!1};n.fn.interactive_bg=function(i){return this.each(function(){function a(n){var t=Math.round(10*event.accelerationIncludingGravity.x)/10,i=Math.round(10*event.accelerationIncludingGravity.y)/10,a=-(t/10)*e.strength,o=-(i/10)*e.strength,s=-(2*a),m=-(2*o);r.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+m+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+m+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+m+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+s+","+m+")"})}var e=n.extend({},t,i),r=n(this),o=r.outerHeight(),s=r.outerWidth(),m=e.strength/o,c=e.strength/s,l="ontouchstart"in document.documentElement;1==e.contain&&r.css({overflow:"hidden"}),r.css({width:s,height:o}),l||screen.width<=699?window.addEventListener("devicemotion",a,!1):r.mouseenter(function(n){1!=e.scale&&r.addClass("ibg-entering"),r.css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)",transform:"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-entering")})}).mousemove(function(n){if(!r.hasClass("ibg-entering")&&!r.hasClass("exiting")){var t=n.pageX||n.clientX,i=n.pageY||n.clientY,t=t-r.offset().left-s/2,i=i-r.offset().top-o/2,a=c*t*-1,l=m*i*-1;r.css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})}}).mouseleave(function(n){1!=e.scale&&r.addClass("ibg-exiting"),r.addClass("ibg-exiting").css({"-webkit-transform":"matrix(1,0,0,1,0,0)","-moz-transform":"matrix(1,0,0,1,0,0)","-o-transform":"matrix(1,0,0,1,0,0)",transform:"matrix(1,0,0,1,0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-exiting")})})})}}(window.jQuery);
